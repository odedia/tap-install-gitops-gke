#@ load("@ytt:data", "data")
---
apiVersion: v1
kind: Secret
metadata:
  name: git-https
  namespace: demos
  annotations:
    tekton.dev/git-0: https://github.com
type: kubernetes.io/basic-auth
stringData:
  username: #@ data.values.custom.gitops.write_permissions_user
  password: #@ data.values.custom.gitops.github_token
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: demos
secrets:
  - name: registry-credentials
  - name: git-https
imagePullSecrets:
  - name: registry-credentials
  - name: tap-registry
